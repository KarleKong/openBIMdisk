
{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

    <!-- chartist CSS -->
    <link href="{{ config.ASSETS_ROOT }}/plugins/chartist-js/dist/chartist.min.css" rel="stylesheet">
    <link href="{{ config.ASSETS_ROOT }}/plugins/chartist-js/dist/chartist-init.css" rel="stylesheet">
    <link href="{{ config.ASSETS_ROOT }}/plugins/chartist-plugin-tooltip-master/dist/chartist-plugin-tooltip.css" rel="stylesheet">
    <!--This page css - Morris CSS -->
    <link href="{{ config.ASSETS_ROOT }}/plugins/c3-master/c3.min.css" rel="stylesheet">
    <!-- for 3d model loading -->
    <link href="{{ config.ASSETS_ROOT }}/css/dashboard.css" rel="stylesheet">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css" rel="stylesheet">

{% endblock stylesheets %}

{% block content %}

    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="page-breadcrumb">
        <div class="row align-items-center">
            <div class="col-md-6 col-8 align-self-center">
                <h3 class="page-title mb-0 p-0">Home</h3>
                <div class="d-flex align-items-center">
                    <nav aria-label="breadcrumb">
                        <!-- <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
                        </ol> -->
                    </nav>
                </div>
            </div>
            <div class="col-md-6 col-4 align-self-center">
                <div class="text-end upgrade-btn">
                        <a href="https://appseed.us/support/"
                        class="btn btn-danger d-none d-md-inline-block text-white" target="_blank">
                        Support        
                        </a>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Container fluid  -->
    <!-- ============================================================== -->
    <div class="container-fluid">
        <!-- ============================================================== -->
        <!-- Static chart -->
        <!-- ============================================================== -->
        <!-- <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="d-flex flex-wrap align-items-center">
                                    <div>
                                        <h3 class="card-title">BIM Version Overview</h3>
                                        <h6 class="card-subtitle">Version/Month</h6>
                                    </div>
                                    <div class="ms-lg-auto mx-sm-auto mx-lg-0">
                                        <ul class="list-inline d-flex">
                                            <li class="me-4">
                                                <h6 class="text-success"><i
                                                        class="fa fa-circle font-10 me-2 "></i>Version/Month</h6>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="amp-pxl" style="height: 360px;">
                                    <div class="chartist-tooltip"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        <!-- ============================================================== -->
        <!-- Profile chart -->
        <!-- ============================================================== -->
        <div class="row">
            <!-- Column -->
            <div class="col-lg-4 col-xlg-4">
                <!-- Column -->
                <div class="card">
                    <img class="card-img-top" src="{{ config.ASSETS_ROOT }}/images/background/profile-bg.jpg"
                        alt="Card image cap">
                    <div class="card-body little-profile text-center">
                        <div class="pro-img">
                            <label for="imageInput">
                                <img src="{{ config.ASSETS_ROOT }}/images/users/user_default.jpg" alt="click to upload user images" id="uploadImage">
                            </label>
                            <input type="file" id="imageInput" style="display:none;">
                        </div>
                        <h3 class="mb-0"> {{ current_user.username }}</h3>
                        <p>{{current_user.email}}</p>
                        <a href="javascript:void(0)"
                            class="mt-2 waves-effect waves-dark btn btn-primary btn-md btn-rounded">Profile</a>
                        <div class="row text-center mt-4">
                            <div class="col-lg-3 col-md-3 mt-3">
                                <h3 class="mb-0 font-light">{{current_user.activeProj}}</h3><small>Project</small>
                            </div>
                            <div class="col-lg-5 col-md-5 mt-3">
                                <h3 class="mb-0 font-light">{{current_user.role}}</h3><small>Role</small>
                            </div>
                            <div class="col-lg-4 col-md-4 mt-3">
                                <h3 class="mb-0 font-light">{{current_user.orgName}}</h3><small>Org</small>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Column -->
                <!-- <div class="card">
                    <div class="card-body bg-info">
                        <h4 class="text-white card-title">My Contacts</h4>
                        <h6 class="card-subtitle text-white mb-0 op-5">Checkout my contacts here</h6>
                    </div>
                    <div class="card-body">
                        <div class="message-box contact-box">
                            <h2 class="add-ct-btn"><button type="button"
                                    class="btn btn-circle btn-lg btn-success waves-effect waves-dark">+</button>
                            </h2>
                            <div class="message-widget contact-widget">
                             
                                <a href="#" class="d-flex align-items-center">
                                    <div class="user-img mb-0"> <img src="{{ config.ASSETS_ROOT }}/images/users/1.jpg"
                                            alt="user" class="img-circle"> <span
                                            class="profile-status online pull-right"></span> </div>
                                    <div class="mail-contnet">
                                        <h5 class="mb-0">{{ userList[0][0] }}</h5> <span
                                            class="mail-desc">{{userList[0][1]}}</span>
                                    </div>
                                </a>
                              
                                <a href="#" class="d-flex align-items-center">
                                    <div class="user-img mb-0"> <img src="{{ config.ASSETS_ROOT }}/images/users/2.jpg"
                                            alt="user" class="img-circle"> <span
                                            class="profile-status busy pull-right"></span> </div>
                                    <div class="mail-contnet">
                                        <h5 class="mb-0">{{ userList[1][0] }}</h5> <span
                                            class="mail-desc">{{ userList[1][1] }}</span>
                                    </div>
                                </a>
                               
                                <a href="#" class="d-flex align-items-center">
                                    <div class="user-img mb-0"> <span class="round">C</span> <span
                                            class="profile-status away pull-right"></span> </div>
                                    <div class="mail-contnet">
                                        <h5 class="mb-0">{{ userList[2][0] }}</h5> <span
                                            class="mail-desc">{{ userList[2][1] }}</span>
                                    </div>
                                </a>
                               
                                <a href="#" class="d-flex align-items-center">
                                    <div class="user-img mb-0"> <img src="{{ config.ASSETS_ROOT }}/images/users/4.jpg"
                                            alt="user" class="img-circle"> <span
                                            class="profile-status offline pull-right"></span> </div>
                                    <div class="mail-contnet">
                                        <h5 class="mb-0">{{ userList[3][0] }}</h5> <span
                                            class="mail-desc">{{ userList[3][1] }}</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div> -->
            </div>
            <div class="col-lg-8 col-xlg-9">
                <div class="card">
                    
                    <ul class="nav nav-tabs profile-tab" role="tablist">
                        <li class="nav-item"> <a class="nav-link active" data-bs-toggle="tab" href="#proj"
                                role="tab">Project Overview</a>
                        </li>
                        <li class="nav-item"> <a class="nav-link" data-bs-toggle="tab" href="#activity"
                                role="tab">Activity</a> </li>
                        <li class="nav-item"> <a class="nav-link" data-bs-toggle="tab" href="#settings"
                                role="tab">Settings</a>
                        </li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div class="tab-pane active" id="proj" role="tabpanel">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3 col-xs-6 b-r"> <strong>Project Name</strong>
                                        <br>
                                        <p class="text-muted">Wong Chunk Hang Student Residence</p>
                                    </div>
                                    <div class="col-md-3 col-xs-6 b-r"> <strong>Estimated Cost</strong>
                                        <br>
                                        <p class="text-muted">HK $1.2 billion</p>
                                    </div>
                                    <div class="col-md-3 col-xs-6 b-r"> <strong>Completion date</strong>
                                        <br>
                                        <p class="text-muted">June 2023</p>
                                    </div>
                                    <div class="col-md-3 col-xs-6"> <strong>Location</strong>
                                        <br>
                                        <p class="text-muted">Police School Road, Wong Chunk Hang</p>
                                    </div>
                                </div>
                            </div>
                            <p> The project will provide two 17-floor towers of student residences comprising student flats each with 8/9/10 rooms
                                on a podium. It will provide around 1,224 student places as well as living accommodation for management staff and support facilities.
                                The project has been selected as one of the two pilot projects for adopting Modular Integrated Construaction(MiC) in 
                                Hong Kong.
                            </p>
                            <div class="content-card" id="three-model">
                                <div class="hint">
                                    Click to load the 3D model
                                </div>
                                <div class="module-info hide">
                                    <div>
                                        <span class="attr-name">Unit ID:</span>
                                        <span class="module-id"></span>
                                    </div>
                                    <div>
                                        <span class="attr-name">Status:</span>
                                        <div class="status-label"></div>
                                        <span class="module-status"></span>
                                    </div>
                                </div>
                                <div id="canvas-container">
                                    <canvas id="canvas"></canvas>
                                </div>
                            </div>
                        </div>
                        <!--second tab-->
                        <div class="tab-pane" id="activity" role="tabpanel">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3 col-xs-6 b-r"> <strong>Full Name</strong>
                                        <br>
                                        <p class="text-muted">Johnathan Deo</p>
                                    </div>
                                    <div class="col-md-3 col-xs-6 b-r"> <strong>Mobile</strong>
                                        <br>
                                        <p class="text-muted">(123) 456 7890</p>
                                    </div>
                                    <div class="col-md-3 col-xs-6 b-r"> <strong>Email</strong>
                                        <br>
                                        <p class="text-muted">johnathan@admin.com</p>
                                    </div>
                                    <div class="col-md-3 col-xs-6"> <strong>Location</strong>
                                        <br>
                                        <p class="text-muted">London</p>
                                    </div>
                                </div>
                                <hr>
                                <p class="mt-4">Donec pede justo, fringilla vel, aliquet nec, vulputate eget,
                                    arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam
                                    dictum felis eu pede mollis pretium. Integer tincidunt.Cras dapibus. Vivamus
                                    elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula,
                                    porttitor eu, consequat vitae, eleifend ac, enim.</p>
                                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                    Lorem Ipsum has been the industry's standard dummy text ever since the
                                    1500s, when an unknown printer took a galley of type and scrambled it to
                                    make a type specimen book. It has survived not only five centuries </p>
                                <p>It was popularised in the 1960s with the release of Letraset sheets
                                    containing Lorem Ipsum passages, and more recently with desktop publishing
                                    software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                                <h4 class="font-medium mt-4">Skill Set</h4>
                                <hr>
                                <h5 class="d-flex mt-4">Wordpress <span class="ms-auto">80%</span></h5>
                                <div class="progress">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="80"
                                        aria-valuemin="0" aria-valuemax="100" style="width:80%; height:6px;">
                                        <span class="sr-only">50% Complete</span> </div>
                                </div>
                                <h5 class="d-flex mt-4">HTML 5 <span class="ms-auto">90%</span></h5>
                                <div class="progress">
                                    <div class="progress-bar bg-info" role="progressbar" aria-valuenow="90"
                                        aria-valuemin="0" aria-valuemax="100" style="width:90%; height:6px;">
                                        <span class="sr-only">50% Complete</span> </div>
                                </div>
                                <h5 class="d-flex mt-4">jQuery <span class="ms-auto">50%</span></h5>
                                <div class="progress">
                                    <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="50"
                                        aria-valuemin="0" aria-valuemax="100" style="width:50%; height:6px;">
                                        <span class="sr-only">50% Complete</span> </div>
                                </div>
                                <h5 class="d-flex mt-4">Photoshop <span class="ms-auto">70%</span></h5>
                                <div class="progress">
                                    <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="70"
                                        aria-valuemin="0" aria-valuemax="100" style="width:70%; height:6px;">
                                        <span class="sr-only">50% Complete</span> </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="settings" role="tabpanel">
                            <div class="card-body">
                                <form class="form-horizontal form-material mx-2">
                                    <div class="form-group">
                                        <label class="col-md-12">Full Name</label>
                                        <div class="col-md-12">
                                            <input type="text" placeholder="Johnathan Doe"
                                                class="form-control form-control-line ps-0">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="example-email" class="col-md-12">Email</label>
                                        <div class="col-md-12">
                                            <input type="email" placeholder="johnathan@admin.com"
                                                class="form-control form-control-line ps-0" name="example-email"
                                                id="example-email">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-12">Password</label>
                                        <div class="col-md-12">
                                            <input type="password" value="password"
                                                class="form-control form-control-line ps-0">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-12">Phone No</label>
                                        <div class="col-md-12">
                                            <input type="text" placeholder="123 456 7890"
                                                class="form-control form-control-line ps-0">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-12">Message</label>
                                        <div class="col-md-12">
                                            <textarea rows="5"
                                                class="form-control form-control-line ps-0"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-12">Select Country</label>
                                        <div class="col-sm-12 border-bottom">
                                            <select class="form-select shadow-none border-0 form-control-line ps-0">
                                                <option>London</option>
                                                <option>India</option>
                                                <option>Usa</option>
                                                <option>Canada</option>
                                                <option>Thailand</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12">
                                            <button class="btn btn-success text-white">Update Profile</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- Table -->
        <!-- ============================================================== -->

        
    </div>
    <!-- ============================================================== -->
    <!-- End Container fluid  -->
    <!-- ============================================================== -->

{% endblock content %}

{% block javascripts %}

    <!-- ============================================================== -->
    <!-- This page plugins -->
    <!-- ============================================================== -->
    <!-- chartist chart -->
    <script src="{{ config.ASSETS_ROOT }}/plugins/chartist-js/dist/chartist.min.js"></script>
    <script src="{{ config.ASSETS_ROOT }}/plugins/chartist-plugin-tooltip-master/dist/chartist-plugin-tooltip.min.js"></script>
    <!--c3 JavaScript -->
    <script src="{{ config.ASSETS_ROOT }}/plugins/d3/d3.min.js"></script>
    <script src="{{ config.ASSETS_ROOT }}/plugins/c3-master/c3.min.js"></script>
    <!--Custom JavaScript -->
    <script src="{{ config.ASSETS_ROOT }}/js/pages/dashboards/dashboard1.js"></script>

    <!-- specific page javascripts -->
    <script>
        function handleImageUpload(){
            document.getElementById('imageInput').click();
        }

        function displaySelectedImage(event){
            const imageInput = document.getElementById('imageInput');
            const userImage = document.getElementById('uploadImage');

            if (imageInput.files && imageInput.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    userImage.src = e.target.result;
                };

                reader.readAsDataURL(imageInput.files[0]);
            }
        }

        // Attach event listeners
        document.getElementById('uploadImage').addEventListener('click', handleImageUpload)
        document.getElementById('imageInput').addEventListener('change', displaySelectedImage)
    </script>

    <script type="module" src="{{config.ASSETS_ROOT}}/js/dashboard_3d.js"></script>

{% endblock javascripts %}    
